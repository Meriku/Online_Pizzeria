@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="container center">
    <div class="row" >
        <div class="bg-white center" style="border-radius: 0.9rem"> 
        <h3 class="p-sm-3 display-3 text-black">Welcome to Pizza Delivery</h3> 
        </div>
    </div>
    <div class="align-content-center">
        <div>
            <a class="btn btn-primary mt-4 w-25" asp-area="" asp-page="/Pizza">Order a pizza</a>         
        </div>
        <div>
            <a class="btn btn-primary mt-4 w-25" asp-area="" asp-page="/CustomerSupport">Customer Support</a> 
        </div>  
    </div>
</div>



<div class="bd-example">
<div id="carouselExampleControls" class="carousel slide">
  <div class="carousel-inner">
    <div id="image" class="center">
      <img class="smallImage unselectable" src="~/images/AllPizzas/Bolognese.png" title="Bolognese"/>
    </div>
  </div>
  <a id="leftButton" class="carousel-control-prev buttonsCarousel unselectable" role="button" data-slide="prev" style="padding-left:360px; text-decoration-style:solid">
    <span class="sr-only"><</span>
  </a>
  <a id="rightButton" class="carousel-control-next buttonsCarousel unselectable" role="button" data-slide="next" style="padding-right:370px">
    <span class="sr-only">></span>
  </a>
</div>
</div>


<script>   
    let leftButtonEl = document.getElementById("leftButton")
    let rightButtonEl = document.getElementById("rightButton")
    let imageEl = document.getElementById("image")
    let currentPizza = 0

    let directory = "~/images/AllPizzas/"
    let extension = ".png"

    let pizzaNames = ["Bolognese", "Carbonara", "Hawaiian", "Margerita", "MeatFeast", "Mushroom", "Pepperoni", "Seafood", "Vegetarian"]

    window.onload = () => {
        leftButtonEl.addEventListener("click", PrevPizza)
        rightButtonEl.addEventListener("click", NextPizza)
    }

    function NextPizza() {  
        if (currentPizza < pizzaNames.length - 1) {
            currentPizza++
        }
        else {
            currentPizza = 0
        }
        ChangeHTML()
    }

    function PrevPizza() {   
        if (currentPizza != 0) {
            currentPizza--
        }
        else {
            currentPizza = pizzaNames.length - 1
        }
        ChangeHTML()
    }

    function ChangeHTML() {
        let name = pizzaNames[currentPizza]
        imageEl.innerHTML = `<img class="smallImage" src="images/AllPizzas/${name}.png" title="Carbonara"/>`
        imageEl.title = pizzaNames[currentPizza]
    }

</script>